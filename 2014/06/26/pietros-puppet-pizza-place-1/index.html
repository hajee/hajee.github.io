
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Learning Puppet at the Puppet Pizza Place - People & Software</title>
  <meta name="author" content="Bert Hajee">
  <meta name="twitter:widgets:csp" content="on">

  
  <meta name="description" content="Learning Puppet at the Puppet Pizza Place">
  <meta name="keywords" content="devops, continuous deployment, infastructure puppet, learning">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://hajee.github.io/2014/06/26/pietros-puppet-pizza-place-1/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="People & Software" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-45679728-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">People & Software</a></h1>
  <h2>My ramblings on people using software</h2>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss email">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
    <li><a href="http://eepurl.com/LOXpn" rel="subscribe-email" title="subscribe via email">Email</a></li>
  
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Learning Puppet at the Puppet Pizza Place</h1>
    
  </header>




<span class="categories">
  
    <a class='category' href='/blog/categories/devops/'>devops</a>, <a class='category' href='/blog/categories/learning/'>learning</a>, <a class='category' href='/blog/categories/puppet/'>puppet</a>
  
</span>


<div class="entry-content"><h1>Learning Puppet at the Puppet Pizza Place</h1>

<p>In this set of blog posts, I will teach you the base concepts of the <a href="http://puppetlabs.com/puppet">puppet DSL</a>. Most of the time Puppet is taught within the context of IT configuration management. I&rsquo;ve chosen not to do so. I&rsquo;ve chosen baking pizza&rsquo;s as the learning environment. It helps less technical people, like IT managers, for example, to get the concepts of Puppet.</p>

<!-- more -->


<h2>Pietro&rsquo;s Puppet Pizza Place</h2>

<p>Pietro was worn out. He&rsquo;d had a very busy day at his pizza place. Business was going well. Too well actually. Every evening he was totally worn out.To keep his business growing, but be less worn out at the end of the day, Pietro had started to look around for some help.</p>

<h3>Miss Piggy</h3>

<p>On the Internet, he&rsquo;d run into this ad for <em>&ldquo;Miss Piggy The Puppetized Pizza Robot&rdquo;</em>. Miss Piggy was advertised as a robot able to make all sorts of Pizza&rsquo;s. To control Miss Piggy, they used Puppet DSL. A DSL able to describe all the Pizza&rsquo;s in the world. This looked like just the help Pietro needed, So he ordered it.</p>

<h3>Running along..</h3>

<p>All the examples in this blog post do really run. You can install the modules needed to do so by using the next commands:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ puppet module install hajee/pizza</span></code></pre></td></tr></table></div></figure>


<p>Obviously you need to have Puppet installed first. Check  the <a href="http://docs.puppetlabs.com/guides/install_puppet/pre_install.html">Puppet installation guide</a> for information on how to do this.</p>

<p>If you want more information about the Puppet pizza module, checkout <a href="https://forge.puppetlabs.com/hajee/pizza">the puppet forge page</a> for this module.</p>

<h3>Getting to know Miss Piggy</h3>

<p>Miss Piggy looked like an ordinary robot. It just didn&rsquo;t do anything yet. Pietro needed to tell Miss Piggy what he wanted. What kind of pizza he would like Miss Piggy to make.  Let&rsquo;s first see what ingredients Miss Piggy knew. Pietro looked in the manual and typed the command:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>puppet describe -l
</span><span class='line'>These are the types known to puppet:
</span><span class='line'>anchovy         - Add anchovy to the pizza or modify the amount ...
</span><span class='line'>bacon           - Add bacon to the pizza or modify the amount o ...
</span><span class='line'>cheese          - Add cheese to the pizza or modify the amount  ...
</span><span class='line'>crust           - Select the crust <span class="k">for </span>your pizza
</span><span class='line'>mushroom        - Add mushrooms to the pizza or modify the amou ...
</span><span class='line'>salami          - Add salami to the pizza or modify the amount  ...
</span><span class='line'>tomato_sauce    - Add tomato sauce to the pizza or modify the a ...
</span></code></pre></td></tr></table></div></figure>


<p>This showed a list of all components (ingredients) Miss Piggy new. In the manual, it stated that Puppet knows these ingredients as types.</p>

<p>Seeing this list of things Pietro knew about, he started to get enthusiasts. Let&rsquo;s start with the crust. Again Pietro looked in the manual. It stated that in order to get to know a type intimately, you can ask Puppet for information. So Pietro typed:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>puppet describe crust
</span><span class='line'><span class="nv">crust</span>
</span><span class='line'><span class="o">=====</span>
</span><span class='line'>Select the crust <span class="k">for </span>your pizza. An example:
</span><span class='line'>crust<span class="o">{</span><span class="s2">&quot;large_wholesome_pan_crust&quot;</span>:
</span><span class='line'>  <span class="nv">ensure</span>    <span class="o">=</span>&gt; baked,
</span><span class='line'>  <span class="nv">size</span>      <span class="o">=</span>&gt; 20,          <span class="c"># 10&quot;, 20&quot;</span>
</span><span class='line'>  <span class="nb">type</span>      <span class="o">=</span>&gt; <span class="s1">&#39;pan&#39;</span>,       <span class="c"># thin</span>
</span><span class='line'>  <span class="nv">dough</span>     <span class="o">=</span>&gt; <span class="s1">&#39;wholesome&#39;</span>, <span class="c"># wholesome ore white</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>Parameters
</span><span class='line'>----------
</span><span class='line'>
</span><span class='line'>- **dough**
</span><span class='line'>    The <span class="nb">type </span>of dough to use <span class="k">for </span>your crust
</span><span class='line'>    Valid values are <span class="sb">`</span>wholesome<span class="sb">`</span>, <span class="sb">`</span>white<span class="sb">`</span>, <span class="sb">`</span>regular<span class="sb">`</span>.
</span><span class='line'>
</span><span class='line'>- **ensure**
</span><span class='line'>    is the crust baked or raw
</span><span class='line'>Valid values are <span class="sb">`</span>baked<span class="sb">`</span>, <span class="sb">`</span>absent<span class="sb">`</span>.
</span><span class='line'>
</span><span class='line'>- **name**
</span><span class='line'>    The ingredient<span class="err">&#39;</span>s name
</span><span class='line'>
</span><span class='line'>- **size**
</span><span class='line'>    the size of the pizza crus in inches
</span><span class='line'>
</span><span class='line'>- **type**
</span><span class='line'>    The <span class="nb">type </span>of crust
</span><span class='line'>Valid values are <span class="sb">`</span>thin<span class="sb">`</span>, <span class="sb">`</span>pan<span class="sb">`</span>, <span class="sb">`</span>regular<span class="sb">`</span>.
</span><span class='line'>
</span><span class='line'>Providers
</span><span class='line'>---------
</span><span class='line'>    simple
</span></code></pre></td></tr></table></div></figure>


<h3>The first try</h3>

<p>He started to get more and more excited. He expected a lot of technical stuff, but instead he saw that Puppet knew about pizza&rsquo;s. Puppet knew about pan and regular pizza&rsquo;s and about regular and wholesome dough. So let&rsquo;s get Miss Piggy to make a crust. Pietro opened a file and entered the instruction:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>crust<span class="o">{</span><span class="s2">&quot;large_wholesome_pan_crust&quot;</span>:
</span><span class='line'>  <span class="nv">ensure</span>    <span class="o">=</span>&gt; baked,
</span><span class='line'>  <span class="nv">size</span>      <span class="o">=</span>&gt; 20,          <span class="c"># 10&quot;, 20&quot;</span>
</span><span class='line'>  <span class="nb">type</span>      <span class="o">=</span>&gt; <span class="s1">&#39;pan&#39;</span>,       <span class="c"># thin</span>
</span><span class='line'>  <span class="nv">dough</span>     <span class="o">=</span>&gt; <span class="s1">&#39;wholesome&#39;</span>, <span class="c"># wholesome ore white</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then he saved it as <code>crust.pp</code> and told Puppet to go do it.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>puppet apply crust.pp
</span><span class='line'>Notice: Compiled catalog <span class="k">for </span>macintosh.local in environment production in 0.10 seconds
</span></code></pre></td></tr></table></div></figure>


<p>All of a sudden he saw Miss Piggy come to life. She started buzzing and beeping. Got some wholesome dough. Made it into a 20&#8221; slice, put it into a pizza pan and pushed it into a pizza oven. After 3 minutes, Pietro was staring at a perfect pizza crust. A bleep on then Puppet console showed that Puppet was ready.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>Notice: /Stage<span class="o">[</span>main<span class="o">]</span>/Main/Crust<span class="o">[</span>large_wholesome_pan_crust<span class="o">]</span>/ensure: ensure changed <span class="s1">&#39;present&#39;</span> to <span class="s1">&#39;baked&#39;</span>
</span><span class='line'>Notice: Finished catalog run in 181.10 seconds
</span></code></pre></td></tr></table></div></figure>


<h3>What did I do?</h3>

<p>Pietro took a while to take this all in. What exactly did he do? He described through a Pupped DSL how the pizza should look. He didn&rsquo;t describe how to make it. Miss Piggy already knew that. She knew about the dough. She knew about pan pizza&rsquo;s and about the pizza size. Pietro just had to describe it in the DSL. The DSL was actually very simple. Just name the resource (type/ingerdient) place a <code>{</code>, specify a name. Any name as long as it is unique for the resource. Close it of with a <code>:</code> sign and then start with the properties of the pizza. Every property contains a name like for example: <code>size</code> and a value like <code>20</code>. They are separated by a <code>=&gt;</code> sign. After the value, he placed a <code>,</code>. Even after the last value. After the last value, the description was closed off with a <code>}</code> sign.</p>

<h3>Add some sauce and cheese</h3>

<p>That was good, but not enough. A crust is not a pizza. Pietro needed to add some tomato sauce and cheese. He opened a new file named <code>pizza.pp</code> and entered all the ingredients for a real pizza.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>  crust<span class="o">{</span><span class="s2">&quot;large_wholesome_thin_crust&quot;</span>:
</span><span class='line'>    <span class="nv">ensure</span>    <span class="o">=</span>&gt; baked,
</span><span class='line'>    <span class="nv">size</span>      <span class="o">=</span>&gt; 20,          <span class="c"># 10&quot;, 20&quot;</span>
</span><span class='line'>    <span class="nb">type</span>      <span class="o">=</span>&gt; <span class="s1">&#39;thin&#39;</span>,       <span class="c"># thin</span>
</span><span class='line'>    <span class="nv">dough</span>     <span class="o">=</span>&gt; <span class="s1">&#39;wholesome&#39;</span>, <span class="c"># wholesome ore white</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  tomato_sauce<span class="o">{</span><span class="s2">&quot;thin_cristal&quot;</span>:
</span><span class='line'>    <span class="nv">ensure</span>      <span class="o">=</span>&gt; <span class="s1">&#39;present&#39;</span>,
</span><span class='line'>    <span class="nb">type</span>        <span class="o">=</span>&gt; <span class="s1">&#39;cristal&#39;</span>,
</span><span class='line'>    <span class="nv">composure</span>   <span class="o">=</span>&gt; <span class="s1">&#39;thick&#39;</span>,
</span><span class='line'>    <span class="nv">amount</span>      <span class="o">=</span>&gt; 5,
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  cheese<span class="o">{</span><span class="s2">&quot;mozzarella_thick&quot;</span>:
</span><span class='line'>    <span class="nv">ensure</span>      <span class="o">=</span>&gt; <span class="s1">&#39;present&#39;</span>,
</span><span class='line'>    <span class="nb">type</span>        <span class="o">=</span>&gt; <span class="s1">&#39;mozzarella&#39;</span>,
</span><span class='line'>    <span class="nv">amount</span>      <span class="o">=</span>&gt; <span class="s1">&#39;2&#39;</span>,
</span><span class='line'>  <span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>Just like before, Pietro instructed Miss Piggy to go and do it.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>puppet apply pizza.pp
</span><span class='line'>Notice: Compiled catalog <span class="k">for </span>macintosh.local in environment production in 0.14 seconds
</span><span class='line'>Notice: /Stage<span class="o">[</span>main<span class="o">]</span>/Main/Tomato_sauce<span class="o">[</span>thin_cristal<span class="o">]</span>/ensure: created
</span><span class='line'>Notice: /Stage<span class="o">[</span>main<span class="o">]</span>/Main/Crust<span class="o">[</span>large_wholesome_thin_crust<span class="o">]</span>/ensure: defined <span class="s1">&#39;ensure&#39;</span> as <span class="s1">&#39;baked&#39;</span>
</span><span class='line'>Notice: /Stage<span class="o">[</span>main<span class="o">]</span>/Main/Cheese<span class="o">[</span>mozzarella_thick<span class="o">]</span>/ensure: created
</span><span class='line'>Notice: Finished catalog run in 181.10 seconds
</span></code></pre></td></tr></table></div></figure>


<p>But now something strange happened. Miss Piggy started by putting tomato sauce on the table and then adding the crust dough afterwards. That was obviously <strong>not</strong> what Pietro wanted. There must be some defect in Miss Piggy. Everyone knows that the pizza crust must be available <strong>before</strong>* the tomato sauce and other ingredients can be added.</p>

<p>Pietro looked in the manual. Aah there it was. Miss Piggy knows a lot, but you have to tell it the order in which the  ingredients are applied. To do this, add an explicit order in the description of the pizza. You can do this by using the <code>require</code> keyword.  Let&rsquo;s change the pizza description and save it as <code>pizza2.pp</code>. To make it more interesting, let&rsquo;s change some ingredients as well. Let&rsquo;s make medium thin pizza with thick cristal tomato sauce and a lot of mozzarella.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>crust<span class="o">{</span><span class="s2">&quot;medium_wholesome_thin_crust&quot;</span>:
</span><span class='line'>    <span class="nv">ensure</span>    <span class="o">=</span>&gt; baked,
</span><span class='line'>    <span class="nv">size</span>      <span class="o">=</span>&gt; 10,          <span class="c"># 10&quot;, 20&quot;</span>
</span><span class='line'>    <span class="nb">type</span>      <span class="o">=</span>&gt; <span class="s1">&#39;thin&#39;</span>,       <span class="c"># thin</span>
</span><span class='line'>    <span class="nv">dough</span>     <span class="o">=</span>&gt; <span class="s1">&#39;wholesome&#39;</span>, <span class="c"># wholesome ore white</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'>tomato_sauce<span class="o">{</span><span class="s2">&quot;thick_cristal&quot;</span>:
</span><span class='line'>  <span class="nv">ensure</span>      <span class="o">=</span>&gt; <span class="s1">&#39;present&#39;</span>,
</span><span class='line'>  <span class="nb">type</span>        <span class="o">=</span>&gt; <span class="s1">&#39;cristal&#39;</span>,
</span><span class='line'>  <span class="nv">composure</span>   <span class="o">=</span>&gt; <span class="s1">&#39;thick&#39;</span>,
</span><span class='line'>  <span class="nv">amount</span>      <span class="o">=</span>&gt; 5,
</span><span class='line'>  <span class="nv">require</span>     <span class="o">=</span>&gt; Crust<span class="o">[</span><span class="s2">&quot;medium_wholesome_thin_crust&quot;</span><span class="o">]</span>,
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'>cheese<span class="o">{</span><span class="s2">&quot;a_lot_of_mozzarella&quot;</span>:
</span><span class='line'>  <span class="nv">ensure</span>      <span class="o">=</span>&gt; <span class="s1">&#39;present&#39;</span>,
</span><span class='line'>  <span class="nb">type</span>        <span class="o">=</span>&gt; <span class="s1">&#39;mozzarella&#39;</span>,
</span><span class='line'>  <span class="nv">amount</span>      <span class="o">=</span>&gt; <span class="s1">&#39;4&#39;</span>,
</span><span class='line'>  <span class="nv">require</span>     <span class="o">=</span>&gt; Tomato_sauce<span class="o">[</span><span class="s2">&quot;thick_cristal&quot;</span><span class="o">]</span>,
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>puppet apply pizza2.pp
</span><span class='line'>Notice: Compiled catalog <span class="k">for </span>macintosh.local in environment production in 0.15 seconds
</span><span class='line'>Notice: /Stage<span class="o">[</span>main<span class="o">]</span>/Main/Crust<span class="o">[</span>medium_wholesome_thin_crust<span class="o">]</span>/ensure: defined <span class="s1">&#39;ensure&#39;</span> as <span class="s1">&#39;baked&#39;</span>
</span><span class='line'>Notice: /Stage<span class="o">[</span>main<span class="o">]</span>/Main/Tomato_sauce<span class="o">[</span>thick_cristal<span class="o">]</span>/ensure: created
</span><span class='line'>Notice: /Stage<span class="o">[</span>main<span class="o">]</span>/Main/Cheese<span class="o">[</span>a_lot_of_mozzarella<span class="o">]</span>/ensure: created
</span><span class='line'>Notice: Finished catalog run in 182.08 seconds
</span></code></pre></td></tr></table></div></figure>


<p>Pietro waited anxiously. What would Miss Piggy do this time? After 3 minutes, Pietro was looking at a perfect pizza Napolitana. That was much better. First the crust, then the tomato sauce and last but not least the cheese.</p>

<h3>What did I do?</h3>

<p>To make this an optimal learning experience, again Pietro looked at what he had accomplished. To be sure the ingredients were added in the right order, he had to specify what the order was. He could do so using the <code>require</code> attribute on an ingredient. The value of the <code>require</code> keyword was a reference to another ingredient. To specify a reference, you needed to start it with a capital letter. So <code>tomato_sauce</code> became <code>Tomato_sauce</code>. To uniquely identify the ingredient, he used the name of the ingredient as specified before and put it between a <code>[</code> and <code>]</code> character. So the reference to the thick cristal tomato sauce became:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">require</span>     <span class="o">=</span>&gt; Tomato_sauce<span class="o">[</span><span class="s2">&quot;thick_cristal&quot;</span><span class="o">]</span>,
</span></code></pre></td></tr></table></div></figure>


<p></p>

<h2>Next time&hellip;</h2>

<p>That was a lot of learning going on. Pietro was even more worn out than normal. But he had confidence the Miss Piggy Puppet Pizza Robot was going to help him a lot. Tomorrow he would start at making descriptions for the first half of his menu.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Bert Hajee</span></span>

      








  


<time datetime="2014-06-26T14:36:46+02:00" pubdate data-updated="true">Jun 26<span>th</span>, 2014</time>
    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://hajee.github.io/2014/06/26/pietros-puppet-pizza-place-1/" data-via="bhajee" data-counturl="http://hajee.github.io/2014/06/26/pietros-puppet-pizza-place-1/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2014/03/30/troubleshooting-your-puppet-custum-type-and-provider/" title="Previous Post: troubleshooting your Puppet custom type and provider">&laquo; troubleshooting your Puppet custom type and provider</a>
      
      
        <a class="basic-alignment right" href="/2014/09/26/review-of-the-book-mastering-puppet/" title="Next Post: Review of the book Mastering Puppet">Review of the book Mastering Puppet &raquo;</a>
      
    </p>
  </footer>
</article>

<article class="archives">
  <div class="related-posts">
    <h2>Related Posts</h2>
    
      <article>
        <h3 class="title"><a href="/2014/09/26/review-of-the-book-mastering-puppet/">Review of the book Mastering Puppet</a></h3>
        <div class="meta">
            
        </div>
      </article>
    
      <article>
        <h3 class="title"><a href="/2014/03/30/troubleshooting-your-puppet-custum-type-and-provider/">troubleshooting your Puppet custom type and provider</a></h3>
        <div class="meta">
            
        </div>
      </article>
    
  </div>
</article>


  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    
<section>
  <h1>About me</h1>
  <ul id="my_info">
      <li class="gravator">
				<img src="http://www.gravatar.com/avatar/3d00c6d5e4c56164f44f1fc96a1027ef?s=150" alt="Gravatar of Bert Hajee " title="Gravatar of Bert Hajee" />
      </li>
      <li class="name">
        <a href="/about">Bert Hajee</a>
      </li>
  </ul>
</section>

<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2014/09/26/review-of-the-book-mastering-puppet/">Review of the book Mastering Puppet</a>
      </li>
    
      <li class="post">
        <a href="/2014/06/26/pietros-puppet-pizza-place-1/">Learning Puppet at the Puppet Pizza Place</a>
      </li>
    
      <li class="post">
        <a href="/2014/03/30/troubleshooting-your-puppet-custum-type-and-provider/">troubleshooting your Puppet custom type and provider</a>
      </li>
    
      <li class="post">
        <a href="/2014/02/23/using-puppet-to-manage-oracle/">Using Puppet to manage Oracle</a>
      </li>
    
      <li class="post">
        <a href="/2014/02/08/puppet-custom-types-the-easy-way-part-2/">Puppet Custom Types, the easy way (part 2)</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/hajee">@hajee</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'hajee',
            count: 5,
            skip_forks: false,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Bert Hajee -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'hajee';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://hajee.github.io/2014/06/26/pietros-puppet-pizza-place-1/';
        var disqus_url = 'http://hajee.github.io/2014/06/26/pietros-puppet-pizza-place-1/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/javascripts/aharris.js"></script>

</body>
</html>
